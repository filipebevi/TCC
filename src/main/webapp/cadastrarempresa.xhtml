<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">



    <ui:composition template="menuPrincipal.xhtml">
        <ui:define name="conteudo">
            <f:view>
                <h:form id="form">
                    <h:inputHidden value="#{empresaBean.empresa.idEmpresa}"/>
                    <h1><h:outputText value="Cadastro de Empresa"/></h1>
                    <p:panelGrid columns="2" styleClass="semBorda">


                        <p:outputLabel value="Nome:" for="nome" />
                        <p:inputText id="nome" value="#{empresaBean.empresa.nome}" title="Nome" required="true" />

                        <p:outputLabel value="Cnpj:" for="cnpj" />
                        <p:inputMask id="cnpj" value="#{empresaBean.empresa.cnpj}" title="Cnpj" mask="99.999.999/9999-99" required="true" />

                        <p:outputLabel value="Endereco:" for="endereco" />
                        <p:inputText id="endereco" value="#{empresaBean.empresa.endereco}" title="Endereco" />

                        <p:outputLabel value="Telefone:" for="telefone" />
                        <p:inputMask id="telefone" value="#{empresaBean.empresa.telefone}" mask="(99) 99999.9999" title="Telefone" />

                        <p:outputLabel value="Email:" for="email" />
                        <p:inputText id="email" value="#{empresaBean.empresa.email}" title="Email" >
                            <f:validateRegex
                                pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"  />
                        </p:inputText>

                        <h:outputLabel value="Cidade:" for="cidade" />
                        <p:selectOneMenu  id="cidade"   value="#{empresaBean.empresa.idCidade}" converter="omnifaces.SelectItemsConverter" required="true">
                            <f:selectItems  value="#{cidadeBean.lista}" var="item" itemValue="#{item}" itemLabel="#{item.nome}-#{item.uf}"/>
                        </p:selectOneMenu>



                        <p:outputLabel value="DtFundacao:" for="dtFundacao" />
                        <p:calendar id="dtFundacao" value="#{empresaBean.empresa.dtFundacao.time}" pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"/>

                        <p:outputLabel value="QtdFunc:" for="qtdFunc" />
                        <p:inputText id="qtdFunc" value="#{empresaBean.empresa.qtdFunc}" title="QtdFunc" />

                        <p:outputLabel value="Faturamento:" for="faturamento" />
                        <p:inputText id="faturamento" value="#{empresaBean.empresa.faturamento}" title="Faturamento" />
                    </p:panelGrid>




                    <h:form>
                        <p:commandButton action="#{empresaBean.salvar()}" value="Salvar" style="font-size: small" update=":mensagem, :form"  />
                        <p:commandButton action="empresa" value="Voltar" style="font-size: small"/>
                    </h:form>
                </h:form>






            </f:view>

        </ui:define>
    </ui:composition>

</html>
